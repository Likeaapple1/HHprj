<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="salary">

		<insert id="input" parameterType="payrollDto">
			INSERT INTO PAYROLL
			(
				  EMP_NO
				, BASIC_SALARY
				, OVERTIME_ALLOWANCE
				, HOLIDAY_ALLOWANCE
				, LONG_SERVICE_ALLOWANCE
				, POSITION_ALLOWANCE
				, ANNUAL_LEAVE_ALLOWANCE
				, MEAL_EXPENSES
				, TRANSPORTATION_EXPENSES
				, BONUS
				, SPECIAL_ALLOWANCE
				, TOTAL_SALARY
				, FOUR_MAJOR_INSURANCES
				, TAX
				, NET_SALARY
				, PAYROLL_BANK
				, PAYROLL_ACCOUNT
				, PAYROLL_DATE
			)
			VALUES
			(
				  #{empNo}
				, #{basicSalary}
				, #{overtimeAllowance}
				, #{holidayAllowance}
				, #{longServiceAllowance}
				, #{positionAllowance}
				, #{annualLeaveAllowance}
				, #{mealExpenses}
				, #{transportationExpenses}
				, #{bonus}
				, #{specialAllowance}
				, #{totalSalary}
				, #{fourMajorInsurances}
				, #{tax}
				, #{netSalary}
				, #{payrollBank}
				, #{payrollAccount}
				, #{payrollDate}
			)
		</insert>
		
		<select id="selectAllPayroll" resultType="payrollDto">
			SELECT *
            FROM PAYROLL, EMP
            WHERE PAYROLL.EMP_NO = EMP.EMP_NO
		</select>
		
		<select id="selectOneByPayroll" parameterType="string" resultType="payrollDto">
			SELECT *
			FROM PAYROLL
			WHERE PAYROLL_DATE = #{payrollDate}
		</select>
		
		
		
		<select id="selectOneBySalary" resultType="salaryDto">
			SELECT *
			FROM SALARY, EMP
            WHERE SALARY.EMP_NO = EMP.EMP_NO
		</select>
		

		
<!-- 		<select id="selectOneBySalarySetting" parameterType="string" resultType="payrollDto">
			SELECT *
			FROM SALARY
			WHERE EMP_NO = 101
		</select> -->
		
		<update id="setting" parameterType="salaryDto">
			UPDATE SALARY
			SET 
			  REGULAR_HOURLY_WAGE = #{regularHourlyWage}
			, LONG_SERVICE_DAY = #{longServiceDay}
			, LONG_SERVICE_ALLOWANCE = #{longServiceAllowance}
			, POSITION_ALLOWANCE = #{positionAllowance}
			, MEAL_EXPENSES = #{mealExpenses}
			, TRANSPORTATION_EXPENSES = #{transportationExpenses}
<!-- 			, PAYROLL_BANK = #{payrollBank}
			, PAYROLL_ACCOUNT = #{payrollAccount} -->
		</update>

		<!-- <delete id="delete" parameterType="payrollDto">
			DELETE FROM PAYROLL
			WHERE PAYROLL_DATE = #{payrollDate}
		</delete> -->
		
		<select id="selectAllEmp" resultType="memberDto">
			SELECT *
            FROM EMP
		</select>
		
		

</mapper>